ИИ для игры в змейку с графическим интерфейсом
Для визуализации происходящего будет использоваться библиотека SFML. Игровое поле будет реализовано с помощью двумерного массива. Границы поля, допустим, будут обозначаться символом #, пустая клетка пробелом, голова змеи – h, хвост – b, а еда – < и >.
ИИ после каждого хода (перемещения на новую клетку) будет находить новый кратчайший путь до еды, таким образом, клетка, которая до данного момента была занята хвостом сможет помочь в образование нового кратчайшего маршрута. Но, к примеру, если эта клетка не будет задействована, то не стоит при будущих ходах пробовать искать более оптимальный путь, т. к. он уже найден (на деле такая оптимизация не имеет смысла, т. к. ресурсы необходимые для вычисления кратчайшего пути весьма малы). Путь, по которому ИИ на данный момент хочет провести змейку, будет иметь отображение на игровое поле и обозначаться символом p. Если на данный момент времени не удалось построить кратчайший путь до еды, то ИИ, будет пытаться провести змейку до самой отдалённой клетки, чтобы хвост сместился и возможно появился бы маршрут.
Реализация поиска кратчайшего пути. Для удобства поиска будем копировать игровое поле в отдельный массив, т. к. будет необходимость заносить некоторые числа в свободные клетки. Алгоритм будет основан на BFS. С клетки, в которой сейчас находится голова, начинаем распространяться волной во все свободные клетки и записываем в них номер такта (количество шагов, которое пришлось сделать, чтобы добраться до данной позиции), также если в клетке записано натуральное число большее, чем текущей номер такта, то перезаписываем значение в клетке (на практике эта ситуация никогда не встретится). Клетка, в которой будет записано не натуральное число, алгоритмом будет восприниматься, как стенка, за исключением значения -2. Как только будет достигнута еда (клетка со значением -2), то алгоритм завершается и начинает записывать в массив индексы клеток, которые пришлось пройти, чтобы достичь еды (для отображения кратчайшего пути на поле).
В качестве текстур тела змейки будет использоваться зелёный квадрат, а для её головы – красный квадрат. На поле будут одновременно находится две единицы еды, для демонстрации алгоритма (он будет выбирать только одну ближайшую и двигать змейку по направлению к ней). Еда будет изображаться квадратом бирюзового или желтого цвета. Стенки будут иметь вид чёрного квадрата. А само игровое поле будет белого цвета. Путь, по которому планирует переместиться змейка будет построен из квадратов красно-черного цвета.
Чтобы проект скомпилировался и запустился необходимо подключить библиотеку SFML.